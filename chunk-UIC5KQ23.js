import{a as c}from"./chunk-PH5NDWNK.js";import{C as i,T as l,W as a,_ as o,da as p,g as u,m as r}from"./chunk-VN6HQHAM.js";var d=(()=>{let s=class s{constructor(t){this.httpClient=t,this.$$orders=new u([]),this.$orders=this.$$orders.asObservable(),this.$$users=new u([]),this.$users=this.$$users.asObservable(),this.$$apiStatus=new u({success:!1,error:null}),this.$apiStatus=this.$$apiStatus.asObservable()}getOrders(t=!1){return this.httpClient.get("/api/order",{params:{all:t.toString()}}).pipe(a(e=>{this.$$orders.next(e),this.$$apiStatus.next({success:!0,error:null})}),i(({error:e})=>(this.$$apiStatus.next({success:!1,error:e.message}),r(null))))}getUsers(){return this.httpClient.get("/api/users").pipe(a(t=>{this.$$users.next(t),this.$$apiStatus.next({success:!0,error:null})}),i(({error:t})=>(this.$$apiStatus.next({success:!1,error:t.message}),r(null))))}cancelOrder(t){return this.httpClient.delete(`/api/order/${t}`).pipe(a(()=>{this.$$apiStatus.next({success:!0,error:null})}),l(()=>this.getOrders()),i(({error:e})=>(this.$$apiStatus.next({success:!1,error:e.message}),r(null))))}createOrder(t){return this.httpClient.post("/api/order",t).pipe(a(()=>{this.$$apiStatus.next({success:!0,error:null})}),i(({error:e})=>(this.$$apiStatus.next({success:!1,error:e.message}),r(null))))}};s.\u0275fac=function(e){return new(e||s)(p(c))},s.\u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();export{d as a};
