import{a as m}from"./chunk-3UPHS55R.js";import{a as f}from"./chunk-LZO44IQN.js";import{C as i,T as a,_ as l,ea as h,g as $,m as e,za as g}from"./chunk-4LMCG722.js";import{a as c,b as p}from"./chunk-A43TDCY5.js";var u="/api/carriage",y=(()=>{let s=class s{constructor(){this.http=h(f),this.$$carriages=new $([]),this.destroyRef=h(g),this.$carriages=this.$$carriages.asObservable(),this.get().pipe(m(this.destroyRef)).subscribe()}get(){return this.http.get(u).pipe(a(t=>(this.$$carriages.next(t),e({status:0,data:t}))),i(({error:t})=>e({status:1,error:t})))}post(t){return this.http.post(u,t).pipe(a(r=>(this.$$carriages.next([p(c({},t),{code:r.code}),...this.$$carriages.getValue()]),e({status:0,error:null}))),i(({error:r})=>e({status:1,error:r})))}put(t,r){return this.http.put(`${u}/${r}`,t).pipe(a(()=>(this.$$carriages.next([...this.$$carriages.getValue().map(n=>n.code===r?p(c({},t),{code:r}):n)]),e({status:0,error:null}))),i(({error:n})=>e({status:1,error:n})))}delete(t){return this.http.delete(`${u}/${t}`).pipe(a(()=>(this.$$carriages.next([...this.$$carriages.getValue().filter(r=>r.code!==t)]),e({status:0,error:null}))),i(({error:r})=>(this.$$carriages.next([...this.$$carriages.getValue()]),e({status:1,error:r}))))}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"});let o=s;return o})();export{y as a};
