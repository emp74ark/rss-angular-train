import{a as $}from"./chunk-VJBOIVAD.js";import{a as l}from"./chunk-PH5NDWNK.js";import{C as r,T as a,W as n,_ as c,ea as p,g as u,m as i,za as h}from"./chunk-VN6HQHAM.js";var y=(()=>{let e=class e{constructor(){this.httpClient=p(l),this.destroyRef=p(h),this.$$stations=new u([]),this.$stations=this.$$stations.asObservable(),this.$$apiStatus=new u({success:!1,error:null}),this.$apiStatus=this.$$apiStatus.asObservable(),this.getStations().pipe($(this.destroyRef)).subscribe()}getStations(){return this.httpClient.get("/api/station").pipe(n(s=>{this.$$stations.next(s),this.$$apiStatus.next({success:!0,error:null})}),r(({error:s})=>(this.$$apiStatus.next({success:!1,error:s.message}),i(s))))}getStationById(s){return this.$$stations.pipe(a(t=>i(t.find(f=>f.id===s))),r(({error:t})=>(console.log(t),this.$$apiStatus.next({success:!1,error:t.message}),i(t))))}createStation(s){return this.httpClient.post("/api/station",s).pipe(n(()=>{this.$$apiStatus.next({success:!0,error:null})}),a(()=>this.getStations()),r(({error:t})=>(this.$$apiStatus.next({success:!1,error:t.message}),i(t))))}deleteStation(s){return this.httpClient.delete(`/api/station/${s}`).pipe(n(()=>{this.$$apiStatus.next({success:!0,error:null})}),a(()=>this.getStations()),r(({error:t})=>(this.$$apiStatus.next({success:!1,error:t.message}),i(t))))}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();export{y as a};
